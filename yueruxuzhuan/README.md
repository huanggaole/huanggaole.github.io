# 月如续传 - RPG游戏框架

这是一个完整的RPG游戏框架，使用HTML、CSS和JavaScript构建，支持通过JSON配置文件自定义游戏内容。

## 功能特性

### 主菜单系统
- **开始游戏**: 开始新的游戏冒险
- **继续游戏**: 从保存的进度继续游戏
- **退出游戏**: 退出游戏应用

### 游戏场景

#### 1. 情节场景
- 显示游戏剧情和对话
- 支持逐步推进剧情
- 可以跳过剧情直接进入游戏

#### 2. 地图场景
- 大地图界面，包含多个可访问的地点
- **地点按钮**: 
  - 城镇: 安全区域，可以购买物品
  - 森林: 可能遭遇怪物的区域
  - 地牢: 危险区域，必定遭遇强敌
- **NPC对话**:
  - 商人: 提供购买服务
  - 守卫: 提供游戏提示和信息

#### 3. 战斗场景
- 回合制战斗系统
- **战斗选项**:
  - 攻击: 对敌人造成伤害
  - 防御: 减少受到的伤害
  - 技能: 使用特殊技能攻击
  - 逃跑: 尝试逃离战斗
- 实时血条显示
- 战斗日志记录

### 游戏系统

#### 角色系统
- 等级、经验值、金币系统
- 血量、攻击力、防御力属性
- 角色成长机制

#### 存档系统
- 自动保存游戏进度
- 支持继续游戏功能
- 使用浏览器本地存储

## 文件结构

```
rpg-game/
├── index.html          # 主HTML文件
├── styles.css          # 样式文件
├── game.js            # 游戏逻辑文件
└── README.md          # 说明文档
```

## 如何运行

1. 确保所有文件都在同一个目录中
2. 用现代浏览器打开 `index.html` 文件
3. 开始您的RPG冒险！

## 游戏操作

### 主菜单
- 点击"开始游戏"开始新的冒险
- 点击"继续游戏"加载之前的存档
- 点击"退出游戏"关闭游戏

### 情节场景
- 点击"继续"查看下一段剧情
- 点击"跳过"直接进入地图场景

### 地图场景
- 点击地图上的地点按钮访问不同区域
- 点击NPC按钮与角色对话
- 使用右上角的菜单和背包按钮（功能可扩展）

### 战斗场景
- 选择战斗行动：攻击、防御、技能或逃跑
- 观察血条变化和战斗日志
- 战斗结束后自动返回地图

## 扩展功能

这个框架设计为易于扩展，您可以轻松添加：

- 更多地图区域和NPC
- 物品和装备系统
- 更复杂的技能系统
- 任务和成就系统
- 音效和背景音乐
- 更丰富的剧情内容

## 技术特点

- **响应式设计**: 支持不同屏幕尺寸
- **模块化架构**: 易于维护和扩展
- **面向对象编程**: 清晰的代码结构
- **本地存储**: 无需服务器的存档功能
- **平滑动画**: 场景切换和UI交互动画

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## 开发说明

游戏使用ES6类结构，主要包含：

- `RPGGame`: 主游戏类，管理所有游戏逻辑
- 场景管理系统：处理不同场景之间的切换
- 事件系统：处理用户交互
- 数据管理：游戏状态和存档管理

## 🎮 配置系统

### 配置文件结构
```
game-config/
├── stories/           # 剧情配置文件夹
│   ├── chapter1.json  # 第一章剧情
│   └── ...
├── maps/              # 地图配置文件夹
│   ├── world.json     # 世界地图
│   ├── forest.json    # 森林地图
│   └── ...
├── dialogs/           # 对话配置文件夹
│   ├── npcs.json      # NPC对话
│   └── ...
└── battles/           # 战斗配置文件夹
    ├── encounters.json # 遭遇配置
    └── enemies.json   # 敌人配置
```

### 配置剧情
编辑 `game-config/stories/` 下的JSON文件来配置剧情：
- 每个剧情文件包含一系列对话
- 支持角色立绘和背景音乐
- 可以设置剧情完成后的动作

### 配置地图
编辑 `game-config/maps/` 下的JSON文件来配置地图：
- 设置地点和NPC的位置（使用百分比）
- 自定义按钮样式和颜色
- 配置点击后的行为（切换地图、对话、战斗等）
- 支持解锁条件

### 配置对话
编辑 `game-config/dialogs/` 下的JSON文件来配置NPC对话：
- 支持多选项对话
- 可以设置标志位和购买物品
- 支持对话分支和条件判断

### 配置战斗
编辑 `game-config/battles/` 下的JSON文件来配置战斗：
- 定义敌人模板和属性
- 配置遭遇类型和概率
- 设置战斗奖励

### 快速开始配置
1. 复制现有的配置文件作为模板
2. 修改其中的文本、位置和属性
3. 刷新游戏页面即可看到效果
4. 无需重新编译或重启

## 许可证

此项目为开源项目，您可以自由使用、修改和分发。
